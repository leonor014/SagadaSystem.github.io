<!DOCTYPE html>
<html>

<head>
    <title>Tourist Registration</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>
    <script type="text/javascript">
        (function () {
            emailjs.init({
                publicKey: "Is7wo0Q9ESM3ptrdM",
            });
        })();
    </script>
    <link rel="stylesheet" href="css/register.css">
    <script type="module" src="js/registration.js"></script>

</head>

<body>
    <nav>
        <a href="sagada.html#home">Home</a>
        <a href="sagada.html#about">About</a>
        <a href="sagada.html@contact">Contact</a>
        <a href="register.html">Register</a>
    </nav>

    <!-- The Modal -->
    <div id="noticeModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Notice</h2>
            <p>Welcome to the Tourist Registration Portal.
                By proceeding, you agree to provide accurate
                information for the purpose of registration.
                This information will be used to facilitate
                your travel and ensure your safety during
                your visit.</p>
            <button id="acknowledgeButton">I Understand</button>
        </div>
    </div>

    <div class="container">
        <h1>Tourist Registration</h1>

        <form id="registrationForm">
            <label>Are you registering for an/a?</label>
            <select id="groupRegistration" required>
                <option value="">Select an option</option>
                <option value="individual">Individual</option>
                <option value="group">Group</option>
            </select>

            <div id="individualForm" style="display:none;">
                <label>Date of Registration</label>
                <input type="date" id="dateOfRegistration" placeholder="Enter date of registration" required>
                <span class="error-message" id="dateOfRegistrationError"></span>

                <label>Full Name:</label>
                <input type="text" id="fullName" placeholder="Enter your full name" required>
                <span class="error-message" id="fullNameError"></span>

                <label>Date of Birth:</label>
                <input type="date" id="dateOfBirth" required>
                <span class="error-message" id="dateOfBirthError"></span>

                <label>Sex:</label>
                <select id="sex" required>
                    <option value="">Select sex</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
                <span class="error-message" id="sexError"></span>

                <label>Country of Origin:</label>
                <select id="country" required>
                    <option value="">Select Country</option>
                </select>
                <span class="error-message" id="countryError"></span>

                <label>Region:</label>
                <select id="region" required>
                    <option value="">Select Region</option>
                </select>
                <span class="error-message" id="regionError"></span>

                <label for="phone">Phone Number:</label>
                <input type="text" id="phone" placeholder="+" required>
                <span class="error-message" id="phoneError"></span>

                <label>Email:</label>
                <input type="email" id="email" placeholder="Enter your email" required>
                <span class="error-message" id="emailError"></span>

                <label>Upload Photo:</label>
                <input type="file" id="uploadPhoto" accept="image/*" required>
                <span class="error-message" id="uploadPhotoError"></span>
            </div>


            <div id="groupForm" style="display:none;">
                <label>Date of Registration</label>
                <input type="date" id="groupDateOfRegistration" placeholder="Enter date of registration" required>
                <span class="error-message" id="groupDateOfRegistrationError"></span>

                <label>Group Name:</label>
                <input type="text" id="groupName" placeholder="Enter group name" required>
                <span class="error-message" id="groupNameError"></span>

                <label>Number of Members:</label>
                <input type="number" id="groupSize" placeholder="Enter the number of members" required>
                <span class="error-message" id="groupSizeError"></span>

                <div id="groupMembers"></div>

                <label>Country of Origin:</label>
                <select id="groupCountry" required>
                    <option value="">Select Country</option>
                </select>
                <span class="error-message" id="groupCountryError"></span>

                <label>Region:</label>
                <select id="groupRegion" required>
                    <option value="">Select Region</option>
                </select>
                <span class="error-message" id="groupRegionError"></span>

                <label for="phone">Phone Number:</label>
                <input type="text" id="groupPhone" placeholder="+" required>
                <span class="error-message" id="groupPhoneError"></span>

                <label>Email:</label>
                <input type="email" id="groupEmail" placeholder="Enter email" required>
                <span class="error-message" id="groupEmailError"></span>

                <label>Upload Group Photo:</label>
                <input type="file" id="groupPhoto" accept="image/*" required>
                <span class="error-message" id="groupPhotoError"></span>
            </div>

            <button type="submit">Register</button>
        </form>


        <div id="registrationDisplay" style="display:none;">
            <h2>Registration Successful</h2>
            <p><strong>Registration Number:</strong> <span id="displayRegistrationNumber"></span></p>
        </div>

    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2023 Tourist Dashboard. All rights reserved.</p>
    </footer>

    <div id="loadingModal" class="modal-overlay hidden">
        <div class="modal-content">
            <p>Submitting your registration, please wait...</p>
        </div>
    </div>

    <div id="successModal" class="modal-overlay hidden">
        <div class="modal-content" id="successModalContent">
            <!-- dynamic registration summary will be inserted here -->
        </div>
    </div>



    <!-- <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Modal and other initializations...
                const modal = document.getElementById("noticeModal");
                const acknowledgeButton = document.getElementById("acknowledgeButton");
                const closeButton = document.querySelector(".close");

                // Show modal on page load
                modal.style.display = "block";

                // Close modal when user clicks "I Understand"
                acknowledgeButton.onclick = function () {
                    modal.style.display = "none";
                };

                // Close modal when user clicks the close button
                closeButton.onclick = function () {
                    modal.style.display = "none";
                };

                // Close modal when user clicks outside the modal
                window.onclick = function (event) {
                    if (event.target === modal) {
                        modal.style.display = "none";
                    }
                };



                const countrySelect = document.getElementById("country");
                const regionSelect = document.getElementById("region");
                const phoneInput = document.getElementById("phone");
                const groupCountrySelect = document.getElementById("groupCountry");
                const groupRegionSelect = document.getElementById("groupRegion");
                const groupPhoneInput = document.getElementById("groupPhone");

                const countries = [
                    { name: "Afghanistan", code: "AF", dial: "+93" },
                    { name: "Albania", code: "AL", dial: "+355" },
                    { name: "Algeria", code: "DZ", dial: "+213" },
                    { name: "Andorra", code: "AD", dial: "+376" },
                    { name: "Angola", code: "AO", dial: "+244" },
                    { name: "Antigua and Barbuda", code: "AG", dial: "+1-268" },
                    { name: "Argentina", code: "AR", dial: "+54" },
                    { name: "Armenia", code: "AM", dial: "+374" },
                    { name: "Australia", code: "AU", dial: "+61" },
                    { name: "Austria", code: "AT", dial: "+43" },
                    { name: "Azerbaijan", code: "AZ", dial: "+994" },
                    { name: "Bahamas, The", code: "BS", dial: "+1-242" },
                    { name: "Bahrain", code: "BH", dial: "+973" },
                    { name: "Bangladesh", code: "BD", dial: "+880" },
                    { name: "Barbados", code: "BB", dial: "+1-246" },
                    { name: "Belarus", code: "BY", dial: "+375" },
                    { name: "Belgium", code: "BE", dial: "+32" },
                    { name: "Belize", code: "BZ", dial: "+501" },
                    { name: "Benin", code: "BJ", dial: "+229" },
                    { name: "Bolivia", code: "BO", dial: "+591" },
                    { name: "Bosnia and Herzegovina", code: "BA", dial: "+387" },
                    { name: "Botswana", code: "BW", dial: "+267" },
                    { name: "Brazil", code: "BR", dial: "+55" },
                    { name: "Brunei", code: "BN", dial: "+673" },
                    { name: "Bulgaria", code: "BG", dial: "+359" },
                    { name: "Burkina Faso", code: "BF", dial: "+226" },
                    { name: "Burundi", code: "BI", dial: "+257" },
                    { name: "Cabo Verde", code: "CV", dial: "+238" },
                    { name: "Cambodia", code: "KH", dial: "+855" },
                    { name: "Cameroon", code: "CM", dial: "+237" },
                    { name: "Canada", code: "CA", dial: "+1" },
                    { name: "China", code: "CN", dial: "+86" },
                    { name: "France", code: "FR", dial: "+33" },
                    { name: "Germany", code: "DE", dial: "+49" },
                    { name: "India", code: "IN", dial: "+91" },
                    { name: "Japan", code: "JP", dial: "+81" },
                    { name: "Myanmar", code: "MM", dial: "+95" },
                    { name: "Philippines", code: "PH", dial: "+63" },
                    { name: "United Kingdom", code: "GB", dial: "+44" },
                    { name: "United States of America", code: "US", dial: "+1" }
                ];

                const philippinesRegions = ["Region I", "Region II", "Region III", "Region IV", "Region V", "Region VI", "Region VII", "Region VIII", "Region IX", "Region X", "Region XI", "Region XII", "Region XIII", "NCR", "CAR", "BARMM", "MIMAROPA"];

                // Populate country dropdowns
                countries.forEach(country => {
                    const option = document.createElement("option");
                    option.value = country.name;
                    option.textContent = `${country.name} (${country.dial})`;
                    countrySelect.appendChild(option);

                    const groupOption = document.createElement("option");
                    groupOption.value = country.name;
                    groupOption.textContent = `${country.name} (${country.dial})`;
                    groupCountrySelect.appendChild(groupOption);
                });

                // Handle group or individual selection
                const groupRegistration = document.getElementById("groupRegistration");
                if (groupRegistration) {
                    groupRegistration.addEventListener("change", function () {
                        const individualForm = document.getElementById("individualForm");
                        const groupForm = document.getElementById("groupForm");
                        const individualFields = individualForm.querySelectorAll("[required]");
                        const groupFields = groupForm.querySelectorAll("[required]");

                        if (this.value === "individual") {
                            individualForm.style.display = "block";
                            groupForm.style.display = "none";
                            individualFields.forEach(field => field.setAttribute("required", ""));
                            groupFields.forEach(field => field.removeAttribute("required"));
                        } else if (this.value === "group") {
                            individualForm.style.display = "none";
                            groupForm.style.display = "block";
                            groupFields.forEach(field => field.setAttribute("required", ""));
                            individualFields.forEach(field => field.removeAttribute("required"));
                            generateGroupMemberFields();
                        } else {
                            individualForm.style.display = "none";
                            groupForm.style.display = "none";
                            individualFields.forEach(field => field.removeAttribute("required"));
                            groupFields.forEach(field => field.removeAttribute("required"));
                        }
                    });
                }


                // Update regions and phone number based on selected country
                function updateCountrySelection(selectElement, phoneInput, regionSelect) {
                    selectElement.addEventListener("change", function () {
                        const selectedCountry = this.value;
                        const selectedCode = countries.find(c => c.name === selectedCountry)?.dial || "+";
                        phoneInput.value = selectedCode + " ";

                        regionSelect.innerHTML = "";
                        let regions = selectedCountry === "Philippines" ? philippinesRegions : ["Region not applicable"];

                        regions.forEach(region => {
                            const option = document.createElement("option");
                            option.value = region;
                            option.textContent = region;
                            regionSelect.appendChild(option);
                        });
                    });
                }

                // Apply country selection logic to both forms
                updateCountrySelection(countrySelect, phoneInput, regionSelect);
                updateCountrySelection(groupCountrySelect, groupPhoneInput, groupRegionSelect);

                // Generate group member fields
                function generateGroupMemberFields() {
                    const groupSizeInput = document.getElementById("groupSize");
                    const groupMembersDiv = document.getElementById("groupMembers");

                    groupSizeInput.addEventListener("input", () => {
                        const numberOfMembers = parseInt(groupSizeInput.value, 10);
                        groupMembersDiv.innerHTML = "";

                        for (let i = 1; i <= numberOfMembers; i++) {
                            const memberDiv = document.createElement("div");
                            memberDiv.style.marginBottom = "15px";

                            memberDiv.innerHTML = `
                            <h4>Member ${i}:</h4>
                            <label>Full Name:</label>
                            <input type="text" name="memberName${i}" placeholder="Enter full name" required>
                            <span class="error-message" id="memberName${i}Error"></span>

                            <label>Date of Birth:</label>
                            <input type="date" name="memberDOB${i}" required>
                            <span class="error-message" id="memberDOB${i}Error"></span>

                            <label>Sex:</label>
                            <select name="memberSex${i}" required>
                                <option value="">Select sex</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                            <span class="error-message" id="memberSex${i}Error"></span>
                        `;

                            groupMembersDiv.appendChild(memberDiv);

                            // Add real-time validation for Full Name
                            document.querySelector(`input[name='memberName${i}']`).addEventListener("input", function () {
                                const errorElement = document.getElementById(`memberName${i}Error`);
                                if (!validateFullName(this.value)) {
                                    errorElement.textContent = "Full name must contain at least two words with letters only.";
                                    errorElement.style.display = "block";
                                    this.classList.add("error-input");
                                } else {
                                    errorElement.style.display = "none";
                                    this.classList.remove("error-input");
                                }
                            });

                            // Add real-time validation for Date of Birth
                            document.querySelector(`input[name='memberDOB${i}']`).addEventListener("input", function () {
                                const errorElement = document.getElementById(`memberDOB${i}Error`);
                                if (!validateDateOfBirth(this.value)) {
                                    errorElement.textContent = "Date of birth should not be more than 150 years old.";
                                    errorElement.style.display = "block";
                                    this.classList.add("error-input");
                                } else {
                                    errorElement.style.display = "none";
                                    this.classList.remove("error-input");
                                }
                            });
                        };
                    });
                }


                // Validation functions
                function validateDateOfRegistration(date) {
                    const today = new Date();
                    today.setHours(0, 0, 0, 0); // Reset time to start of the day
                    const inputDate = new Date(date);
                    inputDate.setHours(0, 0, 0, 0); // Reset time
                    const maxDate = new Date(today);
                    maxDate.setMonth(maxDate.getMonth() + 1);

                    return inputDate >= today && inputDate <= maxDate;
                }

                function validateFullName(name) {
                    return /^[A-Za-z]{2,}(?:\s[A-Za-z]{2,})+$/.test(name); // Ensures at least two words with letters only
                }

                function validateDateOfBirth(date) {
                    const today = new Date();
                    const inputDate = new Date(date);
                    const maxDate = new Date(today);
                    maxDate.setFullYear(maxDate.getFullYear() - 150);

                    return inputDate <= today && inputDate >= maxDate;
                }

                function validateContactNumber(number, country) {
                    const length = number.length;
                    return length >= 7 && length <= 15;
                }

                /* function validateEmail(email) {
                    const validDomains = ["gmail.com", "yahoo.com", "outlook.com"];
                    const domain = email.split("@")[1];
                    return validDomains.includes(domain);
                } */

                function validateGroupContactNumber(number, country) {
                    const length = number.length;
                    return length >= 7 && length <= 15;
                }

                // Real-time validation for Group Email
                document.getElementById("groupEmail").addEventListener("input", function () {
                    const groupEmailError = document.getElementById("groupEmailError");
                    if (!validateEmail(this.value)) {
                        groupEmailError.textContent = "Please enter a valid email address with a valid domain (e.g., gmail.com, yahoo.com, outlook.com).";
                        groupEmailError.style.display = "block";
                        this.classList.add("error-input");
                    } else {
                        groupEmailError.style.display = "none";
                        this.classList.remove("error-input");
                    }
                });

                function validateGroupSize(size) {
                    return size >= 2;
                }

                // Real-time validation for Full Name (Individual)
                document.getElementById("fullName").addEventListener("input", function () {
                    const fullNameError = document.getElementById("fullNameError");
                    if (!validateFullName(this.value)) {
                        fullNameError.textContent = "Full name must contain at least two words with letters only.";
                        fullNameError.style.display = "block";
                        this.classList.add("error-input");
                    } else {
                        fullNameError.style.display = "none";
                        this.classList.remove("error-input");
                    }
                });

                // Real-time validation for Group Name
                document.getElementById("groupName").addEventListener("input", function () {
                    const groupNameError = document.getElementById("groupNameError");
                    if (!validateFullName(this.value)) {
                        groupNameError.textContent = "Group name must contain at least two words with letters only.";
                        groupNameError.style.display = "block";
                        this.classList.add("error-input");
                    } else {
                        groupNameError.style.display = "none";
                        this.classList.remove("error-input");
                    }
                });

                // Real-time validation for Date of Registration (Individual)
                document.getElementById("dateOfRegistration").addEventListener("input", function () {
                    const dateOfRegistrationError = document.getElementById("dateOfRegistrationError");
                    if (!validateDateOfRegistration(this.value)) {
                        dateOfRegistrationError.textContent = "Date of registration should be today or within the month.";
                        dateOfRegistrationError.style.display = "block";
                        this.classList.add("error-input");
                    } else {
                        dateOfRegistrationError.style.display = "none";
                        this.classList.remove("error-input");
                    }
                });

                // Real-time validation for Group Date of Registration
                document.getElementById("groupDateOfRegistration").addEventListener("input", function () {
                    const groupDateOfRegistrationError = document.getElementById("groupDateOfRegistrationError");
                    if (!validateDateOfRegistration(this.value)) {
                        groupDateOfRegistrationError.textContent = "Date of registration should be today or within the month.";
                        groupDateOfRegistrationError.style.display = "block";
                        this.classList.add("error-input");
                    } else {
                        groupDateOfRegistrationError.style.display = "none";
                        this.classList.remove("error-input");
                    }
                });

                // Real-time validation for Date of Birth (Individual)
                document.getElementById("dateOfBirth").addEventListener("input", function () {
                    const dateOfBirthError = document.getElementById("dateOfBirthError");
                    if (!validateDateOfBirth(this.value)) {
                        dateOfBirthError.textContent = "Date of birth should not be more than 150 years old.";
                        dateOfBirthError.style.display = "block";
                        this.classList.add("error-input");
                    } else {
                        dateOfBirthError.style.display = "none";
                        this.classList.remove("error-input");
                    }
                });

                // Real-time validation for Group Member Date of Birth
                document.querySelectorAll("input[name^='memberDOB']").forEach(input => {
                    input.addEventListener("input", function () {
                        const errorElement = document.getElementById(`${this.name}Error`);
                        if (!validateDateOfBirth(this.value)) {
                            errorElement.textContent = "Date of birth should not be more than 150 years old.";
                            errorElement.style.display = "block";
                            this.classList.add("error-input");
                        } else {
                            errorElement.style.display = "none";
                            this.classList.remove("error-input");
                        }
                    });
                });

                // Add event listeners for validation
                document.getElementById("registrationForm").addEventListener("submit", function (event) {
                    event.preventDefault();

                    const isGroup = document.getElementById("groupRegistration").value === "group";
                    const dateOfRegistration = isGroup ? document.getElementById("groupDateOfRegistration").value : document.getElementById("dateOfRegistration").value;
                    const fullName = isGroup ? document.getElementById("groupName").value : document.getElementById("fullName").value;
                    const dateOfBirth = isGroup ? document.querySelector("input[name='memberDOB1']").value : document.getElementById("dateOfBirth").value;
                    const contactNumber = isGroup ? document.getElementById("groupPhone").value : document.getElementById("phone").value;
                    const email = isGroup ? document.getElementById("groupEmail").value : document.getElementById("email").value;
                    const groupSize = isGroup ? document.getElementById("groupSize").value : null;

                    let isValid = true;

                    if (!validateDateOfRegistration(dateOfRegistration)) {
                        document.getElementById(isGroup ? "groupDateOfRegistrationError" : "dateOfRegistrationError").textContent = "Date of registration should be today or within the month.";
                        document.getElementById(isGroup ? "groupDateOfRegistrationError" : "dateOfRegistrationError").style.display = "block";
                        document.getElementById(isGroup ? "groupDateOfRegistration" : "dateOfRegistration").classList.add("error-input");
                        isValid = false;
                    } else {
                        document.getElementById(isGroup ? "groupDateOfRegistrationError" : "dateOfRegistrationError").style.display = "none";
                        document.getElementById(isGroup ? "groupDateOfRegistration" : "dateOfRegistration").classList.remove("error-input");
                    }

                    if (!validateFullName(fullName)) {
                        document.getElementById(isGroup ? "groupNameError" : "fullNameError").textContent = "Please enter a valid full name.";
                        document.getElementById(isGroup ? "groupNameError" : "fullNameError").style.display = "block";
                        document.getElementById(isGroup ? "groupName" : "fullName").classList.add("error-input");
                        isValid = false;
                    } else {
                        document.getElementById(isGroup ? "groupNameError" : "fullNameError").style.display = "none";
                        document.getElementById(isGroup ? "groupName" : "fullName").classList.remove("error-input");
                    }

                    if (!validateDateOfBirth(dateOfBirth)) {
                        document.getElementById(isGroup ? "memberDOB1Error" : "dateOfBirthError").textContent = "Date of birth should not be more than 150 years old.";
                        document.getElementById(isGroup ? "memberDOB1Error" : "dateOfBirthError").style.display = "block";
                        document.getElementById(isGroup ? "memberDOB1" : "dateOfBirth").classList.add("error-input");
                        isValid = false;
                    } else {
                        document.getElementById(isGroup ? "memberDOB1Error" : "dateOfBirthError").style.display = "none";
                        document.getElementById(isGroup ? "memberDOB1" : "dateOfBirth").classList.remove("error-input");
                    }

                    if (!validateContactNumber(contactNumber, isGroup ? document.getElementById("groupCountry").value : document.getElementById("country").value)) {
                        document.getElementById(isGroup ? "groupPhoneError" : "phoneError").textContent = "Contact number should be between 7 and 15 digits.";
                        document.getElementById(isGroup ? "groupPhoneError" : "phoneError").style.display = "block";
                        document.getElementById(isGroup ? "groupPhone" : "phone").classList.add("error-input");
                        isValid = false;
                    } else {
                        document.getElementById(isGroup ? "groupPhoneError" : "phoneError").style.display = "none";
                        document.getElementById(isGroup ? "groupPhone" : "phone").classList.remove("error-input");
                    }

                    /* if (!validateEmail(email)) {
                        document.getElementById(isGroup ? "groupEmailError" : "emailError").textContent = "Please enter a valid email address with a valid domain (e.g., gmail.com, yahoo.com, outlook.com).";
                        document.getElementById(isGroup ? "groupEmailError" : "emailError").style.display = "block";
                        document.getElementById(isGroup ? "groupEmail" : "email").classList.add("error-input");
                        isValid = false;
                    } else {
                        document.getElementById(isGroup ? "groupEmailError" : "emailError").style.display = "none";
                        document.getElementById(isGroup ? "groupEmail" : "email").classList.remove("error-input");
                    } */

                    if (isGroup && !validateGroupSize(groupSize)) {
                        document.getElementById("groupSizeError").textContent = "Number of members should be at least 2.";
                        document.getElementById("groupSizeError").style.display = "block";
                        document.getElementById("groupSize").classList.add("error-input");
                        isValid = false;
                    } else if (isGroup) {
                        document.getElementById("groupSizeError").style.display = "none";
                        document.getElementById("groupSize").classList.remove("error-input");
                    }



                    // Handle form submission
                    document.getElementById("registrationForm").addEventListener("submit", function (event) {
                        event.preventDefault(); // Prevent default form submission

                        const submitButton = document.querySelector("button[type='submit']");
                        if (submitButton.disabled) return; // Prevent double submit
                        submitButton.disabled = true;
                        submitButton.textContent = "Submitting...";

                        const isGroup = document.getElementById("groupRegistration").value === "group";
                        const formToValidate = isGroup ? document.getElementById("groupForm") : document.getElementById("individualForm");

                        // Check if any required field is empty
                        let isValid = true;
                        const requiredFields = formToValidate.querySelectorAll("[required]");
                        requiredFields.forEach(field => {
                            if (!field.value.trim()) {
                                isValid = false;
                                field.classList.add("error-input");
                                const errorElement = document.getElementById(`${field.id}Error`);
                                if (errorElement) {
                                    errorElement.textContent = "This field is required.";
                                    errorElement.style.display = "block";
                                }
                            } else {
                                field.classList.remove("error-input");
                                const errorElement = document.getElementById(`${field.id}Error`);
                                if (errorElement) {
                                    errorElement.style.display = "none";
                                }
                            }
                        });

                        // Validate dynamically generated group member fields
                        if (isGroup) {
                            const groupSize = parseInt(document.getElementById("groupSize").value, 10);
                            for (let i = 1; i <= groupSize; i++) {
                                const memberName = document.querySelector(`input[name='memberName${i}']`);
                                const memberDOB = document.querySelector(`input[name='memberDOB${i}']`);
                                const memberSex = document.querySelector(`select[name='memberSex${i}']`);

                                if (!memberName.value.trim()) {
                                    isValid = false;
                                    memberName.classList.add("error-input");
                                    document.getElementById(`memberName${i}Error`).textContent = "This field is required.";
                                    document.getElementById(`memberName${i}Error`).style.display = "block";
                                }
                                if (!memberDOB.value.trim()) {
                                    isValid = false;
                                    memberDOB.classList.add("error-input");
                                    document.getElementById(`memberDOB${i}Error`).textContent = "This field is required.";
                                    document.getElementById(`memberDOB${i}Error`).style.display = "block";
                                }
                                if (!memberSex.value.trim()) {
                                    isValid = false;
                                    memberSex.classList.add("error-input");
                                    document.getElementById(`memberSex${i}Error`).textContent = "This field is required.";
                                    document.getElementById(`memberSex${i}Error`).style.display = "block";
                                }
                            }
                        }

                        if (!isValid) {
                            alert("Please fill out all required fields.");
                            submitButton.disabled = false;
                            submitButton.textContent = "Register";
                            return;
                        }

                        // Handle successful submission
                        const registrationNumber = `REG-${Date.now()}${isGroup ? "-G" : "-I"}`;
                        document.getElementById("displayRegistrationNumber").textContent = registrationNumber;
                        document.getElementById("registrationDisplay").style.display = "block";

                        // Hide the forms
                        document.getElementById("individualForm").style.display = "none";
                        document.getElementById("groupForm").style.display = "none";

                        // Reset form
                        document.getElementById("registrationForm").reset();
                        submitButton.disabled = false;
                        submitButton.textContent = "Register";
                    });
                });
            });


        </script> -->
</body>

</html>